<script>
let fruit = [["Apel", 10000, 5] , ["Anggur", 15000, 5] , ["Jeruk", 20000, 5]]
let menu = ["Daftar Buah" , "Tambah List Buah" , "Menghapus Buah" , "Membeli Buah", "Exit"]
let keranjang = [ ]
totalHarga = [ ]

// SELAMAT DATANG
for(a=0;a<=1;a--) {
    let welcome =`Selamat Datang di Toko Buah Fresh:\n`
    for (a1=0;a1<menu.length;a1++) {
        welcome += `${a1+1}. ` + menu[a1] + `\n`
    }
    welcome= +prompt(`${welcome}`)

// DAFTAR BUAH
    if (welcome==1) {
        for(b=0;b<1;b++) {
            let daftarBuah = `Berikut daftar buah :\n`
            for(b1=0;b1<fruit.length;b1++) {
            daftarBuah += `${b1+1}. ` + fruit[b1] + '\n'
            }
            alert(`${daftarBuah}`)
        }

// TAMBAHKAN BUAH
    } else if (welcome==2) {
        for(c=0;c<1;c++) { 
        tambahBuah = prompt(`Tambahkan nama buah`)
        tambahHarga = +prompt(`Tambahkan harga /kg`)
        tambahStock = +prompt(`Tambahkan jumlah stock`)
        
        newBuah = [tambahBuah, tambahHarga, tambahStock]
        fruit.push(newBuah)

        alert(`Buah ${tambahBuah} harga ${tambahHarga} stock ${tambahStock}, telah berhasil di tambahkan`)
        }

// MENGHAPUS BUAH
    } else if (welcome == 3) {
        for(b=0;b<1;b++) {
            let daftarBuah = `Buah no berapa yang ingin anda hapus :\n`
            for(b1=0;b1<fruit.length;b1++) {
            daftarBuah += `${b1+1}. ` + fruit[b1] + '\n'
            }
            hapusBuah = +prompt(`${daftarBuah}`)

            if (hapusBuah > 0) {
                fruit.splice([hapusBuah - 1], 1)
                }
            alert(`Buah nomer ${hapusBuah} sudah di hapus`)
        }

// MEMBELI BUAH
    } else if (welcome == 4) {
        for(b=0;b<=fruit.length;b++) {
            let daftarBuah = `Buah no berapa yang ingin anda beli :\n`
            for(b1=0;b1<fruit.length;b1++) {
            daftarBuah += `${b1+1}. ` + fruit[b1] + '\n'
            }
            beliBuah = +prompt(`${daftarBuah}`)

            if (beliBuah > 0 && beliBuah <= fruit.length) {
                qtyBuah = +prompt(`Buah ${fruit[beliBuah-1]}. Mau beli berapa?`)

                for ( ; qtyBuah > fruit[beliBuah-1][2] ; ) {
                qtyBuah = +prompt(`Pembelian Apel melebihi stock, yakni ${fruit[beliBuah-1][2]}. Masukan Kembali Jumlah Pembelian`)
                }

                listBuah1 = [fruit[beliBuah-1][0]]
                listBuah2 = [fruit[beliBuah-1][1]]
                listBuah3 = [qtyBuah]
                
                
                listBuah4 = listBuah1.concat(listBuah2)
                addFruit = listBuah4.concat(listBuah3)

                keranjang.push(addFruit)
                
                
            }
            totalHarga = keranjang[b1][1]*keranjang[b1][2]

            let list = `Berikut daftar belanja buah anda :\n`
            for(b1=0;b1<keranjang.length;b1++) {
                list += `${b1+1}. ` + `${keranjang[b1]}` + `Rp ${keranjang[b1][1]*keranjang[b1][2]}` + `\n`
                }
                
                infoBelanja = alert(`${list} Total Rp ${totalHarga}`)
            

            beliConfirm = confirm(`Apakah anda ingin menambah belanja buah anda ?`)

            if (beliConfirm == false) {
                
                let nota = (`Total belanja anda : \n`)
                for(b1=0;b1<keranjang.length;b1++) {
                    nota += `${b1+1}. ` + `${keranjang[b1]}` + `Rp ${totalHarga}` + `\n` 
                }
                notaTotal = +prompt(`${nota} input uang pembayaran anda :`)
                
                    while(notaTotal < totalHarga) {
                    nota += `${b1+1}. ` + `${keranjang[b1]}` + `Rp ${totalHarga}` + `\n` 
                }

            } else {
                
            }
        }

        
// EXIT
        } else if (welcome == 5) {
            exit = confirm(`Are you sure?`)
            if (exit == true) {
                alert(`Terimakasih atas kunjungan anda`)
                break
            } else {
                
            }

// ELSE
        } else {
        alert(`Harap pilih nomer antara 1-5`)
        }
    }
</script>